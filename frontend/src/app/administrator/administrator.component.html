<div class="container mt-4">
    <h2 class="text-center mb-4">Lista Korisnika</h2>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Korisnicko ime</th>
          <th>Ime</th>
          <th>Prezime</th>
          <th>Pol</th>
          <th>Adresa</th>
          <th>Kontakt telefon</th>
          <th>Imejl</th>
          <th>Slika</th>
          <th>Kartica</th>
          <th>Status</th>
          <th>Tip</th>
          <th>Azuriraj</th>
          <th>Prihvati</th>
          <th>Odbij</th>
          <th>Deaktiviraj</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let korisnik of listaKorisnika">
          <td>{{korisnik.korIme}}</td>
          <td>{{korisnik.ime}}</td>
          <td>{{korisnik.prezime}}</td>
          <td>{{korisnik.pol}}</td>
          <td>{{korisnik.adresa}}</td>
          <td>{{korisnik.kontaktTelefon}}</td>
          <td>{{korisnik.imejl}}</td>
          <td><img style="max-width: 100px; max-height: 100px;" [src]="korisnik.slika" alt="Slika korisnika"></td>
          <td>{{korisnik.kartica}}</td>
          <td>{{korisnik.status}}</td>
          <td>{{korisnik.tip}}</td>
          <td><button class="btn btn-primary" (click)="AzurirajKorisnika(korisnik)">Azuriraj</button></td>
          <td><button class="btn btn-success" (click)="promeniStatus(korisnik.korIme, 'Odobren')" *ngIf="korisnik.status == 'Ceka odobrenje' || korisnik.status == 'Blokiran'">Odobri/Odblokiraj</button></td>
          <td><button class="btn btn-danger" (click)="promeniStatus(korisnik.korIme, 'Odbijen')" *ngIf="korisnik.status == 'Ceka odobrenje'">Odbij</button></td>
          <td>
            <button class="btn btn-warning" (click)="promeniStatus(korisnik.korIme, 'Deaktiviran')" *ngIf="korisnik.status != 'Deaktiviran'">Deaktiviraj</button>
            <button class="btn btn-info" (click)="promeniStatus(korisnik.korIme, 'Odobren')" *ngIf="korisnik.status == 'Deaktiviran'">Aktiviraj</button>
          </td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary d-block mx-auto mt-3" (click)="dodajDekoratera()">Dodaj dekoratera</button>
    
    <h2 class="text-center mt-5 mb-4">Lista Firmi</h2>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Naziv</th>
            <th>Adresa</th>
            <th>Spisak usluga</th>
            <th>Cenovnik</th>
            <th>Lokacija</th>
            <th>Kontakt</th>
            <th>Zaposleni</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let firma of listaFirma">
            <td>{{firma.naziv}}</td>
            <td>{{firma.adresa}}</td>
            <td>
              <ul>
                <li *ngFor="let usluga of firma.usluge">{{usluga[0]}}</li>
              </ul>
            </td>
            <td>
              <ul>
                <li *ngFor="let usluga of firma.usluge">{{usluga[1]}}</li>
              </ul>
            </td>
            <td>
              <div class="map-container">
                <iframe
                  [src]="photoURL(firma.lokacija)"
                  width="300"
                  height="300"
                  style="border:0;"
                  allowfullscreen=""
                  loading="lazy">
                </iframe>
              </div>
            </td>
            <td>{{firma.kontakt}}</td>
            <td>
              <ul>
                <li *ngFor="let zaposleni of firma.zaposleni">{{zaposleni}}</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <button class="btn btn-primary d-block mx-auto mt-3" (click)="dodajFirmu()">Dodaj firmu</button>
  </div>